include ../../common/pug/button

mixin otherImpact(index)
  .impact
    input(
      hidden
      type='checkbox'
      name=`attr_impactOther${index}`
    )
    input(
      type='text'
      name=`attr_impactOther${index}_name`
      data-i18n-placeholder='impact'
      placeholder=translation['impact']
    )
mixin impacts(impactArray, opts)
  .impact-component
    each group in impactArray
      .impact-group
        if opts.title
          .impact-group-title=group.title
        .impact-list
          each impact in group.list
            +btn(impact)
    input.switch-display(type='hidden' name='attr_impact_total' value=0)
    if opts.customImpacts
      .custom-impacts
        h4.i18n-text.other-impacts-title(data-i18n='impact-others')
        each value in [ 1, 2 ]
          +otherImpact(value)