- var charResources = [ 'health', 'spirit', 'supply']
- var sharedResources = [ 'supply' ]
- var standard = [ 5, 4, 3, 2, 1, 0 ]
- var inverse = [ 0, 1, 2, 3, 4, 5 ]

mixin options(trackValues)
  each val in trackValues
    option(value=val)=`+${val}`

mixin dropdowns(resource)
  div.resource
    //- old title: title=`@{roll${resource}}`
    button(
      type="roll"
      name=`roll${resource}`
      title=`Roll +${resource}`
      value!=`&{template:starforged_moves} {{name=roll +${resource}}} {{action=[[{d6+@{${resource}}+(?{Modifier|0}),{10}}kl1]]}} {{negate1=[[1+@{${resource}}+(?{Modifier|0})]]}} {{negate2=[[2+@{${resource}}+(?{Modifier|0})]]}} {{negate3=[[3+@{${resource}}+(?{Modifier|0})]]}} {{negate4=[[4+@{${resource}}+(?{Modifier|0})]]}} {{negate5=[[5+@{${resource}}+(?{Modifier|0})]]}} {{negate6=[[6+@{${resource}}+(?{Modifier|0})]]}} {{challenge1=[[d10]]}} {{challenge2=[[d10]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{${resource}}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{${resource}}]]}}`
    ).roll-resource
      span.resource-title.i18n-text(data-i18n=`resource-${resource}`)=translation[`resource-${resource}`]
    select(class="resource-value" name=`attr_${resource}` title=`Set ${resource}`)
      if resource == 'wealth'
        - var trackValues = inverse
        +options(inverse)
      else
        - var trackValues = standard
        +options(standard)

mixin character(resources)
  div.resources
    label.resource.character-name
      span.resource-title.i18n-text(data-i18n='character-name')=translation['character-name']
      input(type='text' class="resource-value" name="attr_character_name" placeholder=translation['character-name']).resource-value-box

    label.resource.character-callsign
      span.resource-title.i18n-text(data-i18n='character-callsign')=translation['character-callsign']
      input(type='text' class="resource-value" name="attr_character_callsign" placeholder=translation['character-callsign']).resource-value-box

    label.resource.character-pronouns
      span.resource-title.i18n-text(data-i18n='character-pronouns')=translation['character-pronouns']
      input(type='text' class="resource-value" name="attr_character_pronouns" placeholder=translation['character-pronouns']).resource-value-box

    each resource in resources
      +dropdowns(resource)

    label.resource
      span.resource-title.i18n-text(data-i18n='character-experience')=translation['character-experience']
      input(type='text' class="resource-value" name="attr_xp" value="0").health-status-box
    label.resource
      span.resource-title.i18n-text(data-i18n='character-experience-spent')=translation['character-experience-spent']
      input(type='text' class="resource-value" name="attr_total_xp" value="0").health-status-box

mixin shared(resources)
  div.resources
    each resource in resources
      +dropdowns(resource)

mixin resources(sheetType)
  if sheetType == 'shared'
    - var resources = sharedResources
    +shared(resources)
  else
    - var resources = charResources
    +character(resources)